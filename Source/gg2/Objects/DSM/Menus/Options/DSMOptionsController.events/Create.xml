<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event category="CREATE" id="0">
  <actions>
    <action id="603" library="1">
      <!--action name: Code-->
      <kind>CODE</kind>
      <allowRelative>false</allowRelative>
      <question>false</question>
      <canApplyTo>true</canApplyTo>
      <actionType>CODE</actionType>
      <functionName/>
      <relative>false</relative>
      <not>false</not>
      <appliesTo>.self</appliesTo>
      <arguments>
        <argument kind="STRING">{
    menu_create(48, 172, 500, 260, 32, 40, 104, 6);
    menumode = true;
    
    if (room != DSMOptionsR)
        menu_setdimmed();
    
    menu_background(512, 24, 8, 12, 4);
    bgtabs = true;
    
    menu_addedit_boolean("Coloured Projectiles:","global.colouredProjectiles",'
        DSM_write_ini("Cosmetic","ColouredProjectiles",argument0)
    ')
    menu_addedit_boolean("DSM HUDs:","global.dsmHUDs",'
        DSM_write_ini("Cosmetic","DSMHUDs",argument0)
    ')
    menu_addedit_select("Menu Background:","global.dsmBackground",'
        DSM_write_ini("Cosmetic","DSMBackground",argument0)
    ')
    menu_add_option(0,"Vanilla")
    menu_add_option(1,"DSM, match text colour")
    menu_add_option(2,"DSM, any colour")
    menu_add_option(3,"Vanilla, no downloaded background")

    menu_addedit_select("Text Colour:","global.dsmTextColour",'
        DSM_write_ini("Cosmetic","DSMTextColour",argument0)
    ')
    menu_add_option(0,"Red")
    menu_add_option(1,"Blue")
    menu_add_option(2,"Green")
    menu_add_option(3,"Yellow")
    menu_add_option(4,"Purple")
    menu_add_option(5,"Random")

    menu_addedit_boolean("Stereo Sound:","global.dsmStereoSound",'
        DSM_write_ini("Settings","DSMStereoSound",argument0)
    ')
    menu_addedit_boolean("Skip Faucet Logo:","global.dsmSkipFaucet",'
        DSM_write_ini("Settings","DSMSkipFaucet",argument0)
    ')
    menu_addedit_num("Kill-Log Opacity:","global.dsmShowKillLog",'
        DSM_write_ini("Cosmetic","DSMShowKillLog",argument0)
        global.dsmShowKillLogReal=argument0/100
    ',100)

    menu_addedit_boolean("Draw Intel Arrows:","global.dsmDrawIntelArrows",'
        DSM_write_ini("Cosmetic","DSMDrawIntelArrows",argument0)
    ')
    menu_addedit_select("Respawn Timer:","global.dsmRespawnTimer",'
        DSM_write_ini("Settings","DSMRespawnTimer",argument0)
    ')
    menu_add_option(0,"Off")
    menu_add_option(1,"Vanilla")
    menu_add_option(2,"DSM")

    menu_addedit_boolean("Healing Arrow:","global.dsmHealingArrow",'
        DSM_write_ini("Cosmetic","DSMHealingArrow",argument0)
    ')
    menu_addedit_boolean("Ping Display:","global.dsmPingDisplay",'
        DSM_write_ini("Settings","DSMPingDisplay",argument0)
    ')
    menu_addedit_boolean("FPS Display:","global.dsmFPSDisplay",'
        DSM_write_ini("Settings","DSMFPSDisplay",argument0)
    ')
    
    menu_addtablink("DSM 1", '
        instance_destroy();
        instance_create(x,y,DSMOptionsController);
    ');
    menu_addtablink("DSM 2", '
        instance_destroy();
        instance_create(x,y,DSMOptionsController2);
    ');
    menu_addtablink("DSM 3", '
        instance_destroy();
        instance_create(x,y,DSMOptionsController3);
    ');
    menu_addtablink("DSM 4", '
        instance_destroy();
        instance_create(x,y,DSMOptionsController4);
    ');
    menu_addtablink("Controls", '
        instance_destroy();
        instance_create(x,y,DSMControlsController);
    ');
    
    menu_addback("Back", '
        instance_destroy();
        if(room == DSMOptionsR)
            room_goto_fix(Menu);
        else
            instance_create(0,0,InGameMenuController);
    ');
}
</argument>
      </arguments>
    </action>
  </actions>
</event>
